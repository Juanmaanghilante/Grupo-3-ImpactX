<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head', {title:"Create Product"})%>

  <body class="bodySignUp">

    <%- include('../partials/header')%>

      <form action="/productos/create" method="post" class="create-form" enctype="multipart/form-data">
        <div class="content">
          <div>
            <h2 class="titulo-registrar-usuario">Crear Nuevo Producto</h2>
            <div class="control-formulario">

              <div class="erroresForm">
                <% if (locals.errors && errors.category) { %>
                  <%= errors.category.msg %>
                    <% } %>
              </div>
              <select class="control <%= locals.errors && errors.category ? 'invalidError' : null %>" name="category"
                id="">
                <option value="">Seleccione una opción</option>
                <% let tipoServicio=['Producto', 'Servicio' ] %>
                  <% for( const servicio of tipoServicio ) { %>
                    <option value="<%= servicio %>" <%=locals.oldData && (servicio==oldData.category) ? 'selected' :
                      null %>
                      <%= locals.oldData && (servicio===oldData.tipoUsuario) ? "selected" : null %> > <%= servicio %>
                    </option>
                    <% } %>
              </select>


              <div class="erroresForm">
                <% if (locals.errors && errors.product) { %>
                  <%= errors.product.msg %>
                    <% } %>
              </div>
              <input type="text" name="product"
                class="control <%= locals.errors && errors.product ? 'invalidError' : null %>" placeholder="Nombre"
                value="<%= locals.oldData ? oldData.product : null %>" />

              <div class="erroresForm">
                <% if (locals.errors && errors.desc) { %>
                  <%= errors.desc.msg %>
                    <% } %>
              </div>
              <textarea type="text" name="desc"
                class="control <%= locals.errors && errors.desc ? 'invalidError' : null %>"
                placeholder="Descripción"><%= locals.oldData ? oldData.desc : null %></textarea>

              <div class="erroresForm">
                <% if (locals.errors && errors.price) { %>
                  <%= errors.price.msg %>
                    <% } %>
              </div>
              <input type="number" name="price"
                class="control <%= locals.errors && errors.price ? 'invalidError' : null %>" placeholder="Precio"
                value="<%= locals.oldData ? oldData.price : null %>" />


              <div class="erroresForm">
                <% if (locals.errors && errors.image) { %>
                  <%= errors.image.msg %>
                    <% } %>
              </div>
              <input type="file" name="image"
                class="control <%= locals.errors && errors.image ? 'invalidError' : null %>" />
            </div>
            <button type="submit" class="botonContactanos">Agregar Producto</input>
          </div>
        </div>
      </form>

      <%- include('../partials/footer')%>
  </body>

</html>